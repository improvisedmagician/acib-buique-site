<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eventos | ACIB | BUÍQUE</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#1e40af',
                        secondary: '#dc2626'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100">
    <custom-navbar></custom-navbar>

    <main class="max-w-7xl mx-auto py-12 px-4">
        <div class="text-center mb-12">
            <h1 class="text-3xl md:text-4xl font-bold mb-4">Eventos da ACIB</h1>
            <p class="text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
                Confira nossa agenda de eventos e participe das atividades que vão alavancar seu negócio.
            </p>
        </div>

        <div class="flex flex-col md:flex-row gap-8">
            <div class="md:w-1/3 lg:w-1/4">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 sticky top-20">
                    <h2 class="text-xl font-bold mb-4">Filtrar Eventos</h2>

                    <div class="mb-6">
                        <label for="category" class="block mb-2 font-medium text-sm">Categoria</label>
                        <select id="category" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:border-gray-600 text-sm">
                            <option value="">Todas</option>
                            <option value="networking">Networking</option>
                            <option value="workshop">Workshop</option>
                            <option value="palestra">Palestra</option>
                            <option value="curso">Curso</option>
                            <option value="feira">Feira</option>
                        </select>
                    </div>

                    <div class="mb-6">
                        <label for="month" class="block mb-2 font-medium text-sm">Mês</label>
                        <select id="month" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:border-gray-600 text-sm">
                            <option value="">Todos</option>
                            <option value="01">Janeiro</option>
                            <option value="02">Fevereiro</option>
                            <option value="03">Março</option>
                            <option value="04">Abril</option>
                            <option value="05">Maio</option>
                            <option value="06">Junho</option>
                            <option value="07">Julho</option>
                            <option value="08">Agosto</option>
                            <option value="09">Setembro</option>
                            <option value="10">Outubro</option>
                            <option value="11">Novembro</option>
                            <option value="12">Dezembro</option>
                        </select>
                    </div>

                    <div class="mb-6">
                        <label class="block mb-2 font-medium text-sm">Tipo</label>
                        <div class="space-y-2">
                            <div class="flex items-center">
                                <input type="checkbox" id="presencial" class="rounded text-primary focus:ring-primary h-4 w-4" checked>
                                <label for="presencial" class="ml-2 text-sm">Presencial</label>
                            </div>
                            <div class="flex items-center">
                                <input type="checkbox" id="online" class="rounded text-primary focus:ring-primary h-4 w-4" checked>
                                <label for="online" class="ml-2 text-sm">Online</label>
                            </div>
                        </div>
                    </div>

                    <button id="filter-btn" class="w-full bg-primary hover:bg-blue-800 text-white font-bold py-2 px-4 rounded-lg transition duration-300 text-sm">
                        Aplicar Filtros
                    </button>
                </div>
            </div>

            <div class="md:w-2/3 lg:w-3/4">
                <div class="grid grid-cols-1 gap-6" id="events-list-container">
                    <p class="text-center text-gray-500">Carregando eventos...</p>
                </div>
            </div>
        </div>
    </main>

    <custom-footer></custom-footer>

    <script src="components/navbar.js"></script>
    <script src="components/footer.js"></script>
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Sample event data (replace with actual data source if needed)
            const allEvents = [
                 {
                    id: 1,
                    title: "Workshop de Marketing Digital",
                    date: "15/06/2024", // Format DD/MM/YYYY
                    time: "14:00 - 17:00",
                    location: "Sede da ACIB",
                    description: "Aprenda estratégias para alavancar seu negócio online com especialistas em marketing digital.",
                    category: "workshop",
                    type: "presencial",
                    image: "https://via.placeholder.com/640x360/1e40af/ffffff?text=Marketing+Digital" // Placeholder image
                },
                {
                    id: 2,
                    title: "Rede de Contatos - Edição Verão",
                    date: "22/06/2024",
                    time: "19:00 - 21:00",
                    location: "Hotel Central",
                    description: "Evento de networking exclusivo para associados da ACIB. Traga seu cartão de visitas!",
                    category: "networking",
                    type: "presencial",
                    image: "https://via.placeholder.com/640x360/34d399/ffffff?text=Networking"
                },
                {
                    id: 3,
                    title: "Palestra: Gestão Financeira para PMEs",
                    date: "05/07/2024",
                    time: "09:00 - 12:00",
                    location: "Online (Zoom)",
                    description: "Como organizar suas finanças empresariais com o consultor financeiro Carlos Mendes.",
                    category: "palestra",
                    type: "online",
                    image: "https://via.placeholder.com/640x360/f59e0b/ffffff?text=Finanças"
                },
                {
                    id: 4,
                    title: "Curso de Atendimento ao Cliente",
                    date: "12/07/2024",
                    time: "13:30 - 17:30",
                    location: "Sede da ACIB",
                    description: "Melhore a experiência do seu cliente e aumente as vendas com técnicas comprovadas.",
                    category: "curso",
                    type: "presencial",
                    image: "https://via.placeholder.com/640x360/ef4444/ffffff?text=Atendimento"
                },
                {
                    id: 5,
                    title: "Feira de Negócios ACIB 2024",
                    date: "20/08/2024",
                    time: "10:00 - 18:00",
                    location: "Centro de Convenções",
                    description: "Maior evento de negócios da região com expositores, palestras e oportunidades.",
                    category: "feira",
                    type: "presencial",
                    image: "https://via.placeholder.com/640x360/6366f1/ffffff?text=Feira+Negócios"
                },
                {
                    id: 6,
                    title: "Webinar: Tendências 2025",
                    date: "10/09/2024",
                    time: "15:00 - 16:30",
                    location: "Online (YouTube)",
                    description: "Descubra as principais tendências para o seu setor no próximo ano.",
                    category: "palestra",
                    type: "online",
                    image: "https://via.placeholder.com/640x360/8b5cf6/ffffff?text=Tendências+2025"
                }
            ];

            const container = document.getElementById('events-list-container');
            const categorySelect = document.getElementById('category');
            const monthSelect = document.getElementById('month');
            const presencialCheck = document.getElementById('presencial');
            const onlineCheck = document.getElementById('online');
            const filterBtn = document.getElementById('filter-btn');

            function getCategoryName(categoryKey) {
                const categories = {
                    'networking': 'Networking',
                    'workshop': 'Workshop',
                    'palestra': 'Palestra',
                    'curso': 'Curso',
                    'feira': 'Feira'
                };
                return categories[categoryKey] || categoryKey;
            }

            function renderEvents(eventsToRender) {
                container.innerHTML = ''; // Clear previous events or loading message

                if (eventsToRender.length === 0) {
                    container.innerHTML = `
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 text-center col-span-full">
                            <i data-feather="calendar" class="w-12 h-12 text-gray-400 mx-auto mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">Nenhum evento encontrado</h3>
                            <p class="text-gray-600 dark:text-gray-400 text-sm">Tente ajustar os filtros ou volte mais tarde.</p>
                        </div>
                    `;
                } else {
                    eventsToRender.forEach(event => {
                        const eventMonth = event.date.split('/')[1]; // Get month from date
                        const eventCard = `
                            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden" data-month="${eventMonth}" data-category="${event.category}" data-type="${event.type}">
                                <div class="relative h-48 overflow-hidden">
                                    <img src="${event.image}" alt="${event.title}" class="w-full h-full object-cover">
                                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                                        <span class="inline-block px-3 py-1 rounded-full text-xs font-semibold ${event.type === 'presencial' ? 'bg-secondary text-white' : 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100'}">
                                            ${event.type === 'presencial' ? 'Presencial' : 'Online'}
                                        </span>
                                    </div>
                                </div>
                                <div class="p-6">
                                    <div class="flex justify-between items-start mb-2">
                                        <h3 class="text-lg font-bold">${event.title}</h3>
                                        <span class="bg-primary/10 text-primary text-xs px-2 py-1 rounded whitespace-nowrap">${getCategoryName(event.category)}</span>
                                    </div>
                                    <div class="flex items-center text-gray-600 dark:text-gray-400 mb-2 text-sm">
                                        <i data-feather="calendar" class="w-4 h-4 mr-2"></i>
                                        <span>${event.date} • ${event.time}</span>
                                    </div>
                                    <div class="flex items-center text-gray-600 dark:text-gray-400 mb-4 text-sm">
                                        <i data-feather="map-pin" class="w-4 h-4 mr-2"></i>
                                        <span>${event.location}</span>
                                    </div>
                                    <p class="text-gray-700 dark:text-gray-300 mb-6 text-sm">${event.description}</p>
                                    <div class="flex justify-between items-center">
                                        <span class="text-xs text-gray-500">Para associados e convidados</span>
                                        <button class="bg-primary hover:bg-blue-800 text-white font-medium py-1 px-3 rounded-lg transition duration-300 flex items-center gap-1 text-sm">
                                            <i data-feather="plus" class="w-4 h-4"></i> Participar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        `;
                        container.innerHTML += eventCard;
                    });
                }
                // Render icons AFTER updating innerHTML
                feather.replace();
            }

            function filterEvents() {
                const selectedCategory = categorySelect.value;
                const selectedMonth = monthSelect.value;
                const showPresencial = presencialCheck.checked;
                const showOnline = onlineCheck.checked;

                const filtered = allEvents.filter(event => {
                    const eventMonth = event.date.split('/')[1]; // Extract month (MM)

                    // Category filter
                    if (selectedCategory && event.category !== selectedCategory) {
                        return false;
                    }
                    // Month filter
                    if (selectedMonth && eventMonth !== selectedMonth) {
                        return false;
                    }
                    // Type filter
                    if (!showPresencial && event.type === 'presencial') {
                        return false;
                    }
                    if (!showOnline && event.type === 'online') {
                        return false;
                    }
                    // If none of the filters excluded it, include it
                    return true;
                });

                renderEvents(filtered);
            }

            // Initial render of all events
            renderEvents(allEvents);

            // Add event listener to the filter button
            filterBtn.addEventListener('click', filterEvents);
        });
    </script>
</body>
</html>