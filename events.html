<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eventos | ACIB | BUÍQUE</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#1e40af',
                        secondary: '#dc2626'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100">
    <custom-navbar></custom-navbar>

    <main class="max-w-7xl mx-auto py-12 px-4">
        <div class="text-center mb-12">
            <h1 class="text-3xl md:text-4xl font-bold mb-4">Eventos da ACIB</h1>
            <p class="text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
                Confira nossa agenda de eventos e participe das atividades que vão alavancar seu negócio.
            </p>
        </div>

        <div class="flex flex-col md:flex-row gap-8">
            <div class="md:w-1/3 lg:w-1/4">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 sticky top-20">
                    <h2 class="text-xl font-bold mb-4">Filtrar Eventos</h2>

                    <div class="mb-6">
                        <label for="category" class="block mb-2 font-medium text-sm">Categoria</label>
                        <select id="category" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:border-gray-600 text-sm">
                            <option value="">Todas</option>
                            <option value="networking">Networking</option>
                            <option value="workshop">Workshop</option>
                            <option value="palestra">Palestra</option>
                            <option value="curso">Curso</option>
                            <option value="feira">Feira</option>
                        </select>
                    </div>

                    <div class="mb-6">
                        <label for="month" class="block mb-2 font-medium text-sm">Mês</label>
                        <select id="month" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary dark:bg-gray-700 dark:border-gray-600 text-sm">
                            <option value="">Todos</option>
                            <option value="01">Janeiro</option>
                            <option value="02">Fevereiro</option>
                            <option value="03">Março</option>
                            <option value="04">Abril</option>
                            <option value="05">Maio</option>
                            <option value="06">Junho</option>
                            <option value="07">Julho</option>
                            <option value="08">Agosto</option>
                            <option value="09">Setembro</option>
                            <option value="10">Outubro</option>
                            <option value="11">Novembro</option>
                            <option value="12">Dezembro</option>
                        </select>
                    </div>

                    <div class="mb-6">
                        <label class="block mb-2 font-medium text-sm">Tipo</label>
                        <div class="space-y-2">
                            <div class="flex items-center">
                                <input type="checkbox" id="presencial" class="rounded text-primary focus:ring-primary h-4 w-4" checked>
                                <label for="presencial" class="ml-2 text-sm">Presencial</label>
                            </div>
                            <div class="flex items-center">
                                <input type="checkbox" id="online" class="rounded text-primary focus:ring-primary h-4 w-4" checked>
                                <label for="online" class="ml-2 text-sm">Online</label>
                            </div>
                        </div>
                    </div>

                    <button id="filter-btn" class="w-full bg-primary hover:bg-blue-800 text-white font-bold py-2 px-4 rounded-lg transition duration-300 text-sm">
                        Aplicar Filtros
                    </button>
                </div>
            </div>

            <div class="md:w-2/3 lg:w-3/4">
                <div class="grid grid-cols-1 gap-6" id="events-list-container">
                    <p class="text-center text-gray-500">Carregando eventos...</p>
                </div>
            </div>
        </div>
    </main>

    <custom-footer></custom-footer>

    <script src="components/navbar.js"></script>
    <script src="components/footer.js"></script>
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- DADOS COMPLETOS DOS EVENTOS (ATUALIZADOS COM IMAGENS) ---
            const allEvents = [ // Renomeado para clareza
                 {
                    id: 1,
                    title: "Workshop de Marketing Digital",
                    date: "15/06/2024", // Mantendo datas originais como exemplo
                    time: "14:00 - 17:00",
                    location: "Sede da ACIB",
                    description: "Aprenda estratégias para alavancar seu negócio online com especialistas em marketing digital.",
                    category: "workshop",
                    type: "presencial",
                    // Imagem: Pessoas em workshop ou usando laptop
                    image: "https://images.pexels.com/photos/1181406/pexels-photo-1181406.jpeg?auto=compress&cs=tinysrgb&w=640&h=360&dpr=1"
                },
                {
                    id: 2,
                    title: "Rede de Contatos - Edição Verão",
                    date: "22/06/2024",
                    time: "19:00 - 21:00",
                    location: "Hotel Central",
                    description: "Evento de networking exclusivo para associados da ACIB. Traga seu cartão de visitas!",
                    category: "networking",
                    type: "presencial",
                    // Imagem: Pessoas conversando em evento
                    image: "https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=640&h=360&dpr=1"
                },
                {
                    id: 3,
                    title: "Palestra: Gestão Financeira para PMEs",
                    date: "05/07/2024",
                    time: "09:00 - 12:00",
                    location: "Online (Zoom)",
                    description: "Como organizar suas finanças empresariais com o consultor financeiro Carlos Mendes.",
                    category: "palestra",
                    type: "online",
                    // Imagem: Gráficos financeiros ou calculadora
                    image: "https://images.pexels.com/photos/6801648/pexels-photo-6801648.jpeg?auto=compress&cs=tinysrgb&w=640&h=360&dpr=1"
                },
                {
                    id: 4,
                    title: "Curso de Atendimento ao Cliente",
                    date: "12/07/2024",
                    time: "13:30 - 17:30",
                    location: "Sede da ACIB",
                    description: "Melhore a experiência do seu cliente e aumente as vendas com técnicas comprovadas.",
                    category: "curso",
                    type: "presencial",
                    // Imagem: Pessoa atendendo cliente com sorriso
                    image: "https://images.pexels.com/photos/5668858/pexels-photo-5668858.jpeg?auto=compress&cs=tinysrgb&w=640&h=360&dpr=1"
                },
                {
                    id: 5,
                    title: "Feira de Negócios ACIB 2024",
                    date: "20/08/2024",
                    time: "10:00 - 18:00",
                    location: "Centro de Convenções",
                    description: "Maior evento de negócios da região com expositores, palestras e oportunidades.",
                    category: "feira",
                    type: "presencial",
                    // Imagem: Centro de convenções ou estandes
                    image: "https://images.pexels.com/photos/2608517/pexels-photo-2608517.jpeg?auto=compress&cs=tinysrgb&w=640&h=360&dpr=1"
                },
                {
                    id: 6,
                    title: "Webinar: Tendências 2025",
                    date: "10/09/2024",
                    time: "15:00 - 16:30",
                    location: "Online (YouTube)",
                    description: "Descubra as principais tendências para o seu setor no próximo ano.",
                    category: "palestra",
                    type: "online",
                    // Imagem: Tela de computador com gráficos ou pessoa em vídeo chamada
                    image: "https://images.pexels.com/photos/593172/pexels-photo-593172.jpeg?auto=compress&cs=tinysrgb&w=640&h=360&dpr=1"
                }
            ];

            // --- ELEMENTOS DO DOM ---
            const container = document.getElementById('events-list-container'); // Certifique-se que o ID no HTML é este
            const categorySelect = document.getElementById('category');
            const monthSelect = document.getElementById('month');
            const presencialCheck = document.getElementById('presencial');
            const onlineCheck = document.getElementById('online');
            const filterBtn = document.getElementById('filter-btn');

            // --- FUNÇÕES AUXILIARES ---
            function getCategoryName(categoryKey) {
                const categories = {
                    'networking': 'Networking', 'workshop': 'Workshop', 'palestra': 'Palestra',
                    'curso': 'Curso', 'feira': 'Feira'
                };
                return categories[categoryKey] || categoryKey;
            }

            // --- FUNÇÃO PARA RENDERIZAR OS CARDS ---
            function renderEvents(eventsToRender) {
                if (!container) {
                     console.error("Contêiner de eventos não encontrado!");
                     return;
                }
                container.innerHTML = ''; // Limpa

                if (eventsToRender.length === 0) {
                    container.innerHTML = `
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 text-center col-span-full">
                            <i data-feather="calendar" class="w-12 h-12 text-gray-400 mx-auto mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">Nenhum evento encontrado</h3>
                            <p class="text-gray-600 dark:text-gray-400 text-sm">Tente ajustar os filtros ou volte mais tarde.</p>
                        </div>
                    `;
                } else {
                    eventsToRender.forEach(event => {
                        const eventMonth = event.date.split('/')[1];
                        const eventCard = `
                            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden flex flex-col transition duration-300 hover:shadow-lg" data-month="${eventMonth}" data-category="${event.category}" data-type="${event.type}">
                                <div class="relative h-48 overflow-hidden">
                                    <img src="${event.image}" alt="${event.title}" class="w-full h-full object-cover">
                                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                                        <span class="inline-block px-3 py-1 rounded-full text-xs font-semibold ${event.type === 'presencial' ? 'bg-secondary text-white' : 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100'}">
                                            ${event.type === 'presencial' ? 'Presencial' : 'Online'}
                                        </span>
                                    </div>
                                </div>
                                <div class="p-6 flex flex-col flex-grow">
                                    <div class="flex justify-between items-start mb-2">
                                        <h3 class="text-lg font-bold line-clamp-2">${event.title}</h3> 
                                        <span class="bg-primary/10 text-primary text-xs px-2 py-1 rounded whitespace-nowrap">${getCategoryName(event.category)}</span>
                                    </div>
                                    <div class="flex items-center text-gray-600 dark:text-gray-400 mb-2 text-sm">
                                        <i data-feather="calendar" class="w-4 h-4 mr-2"></i>
                                        <span>${event.date} • ${event.time}</span>
                                    </div>
                                    <div class="flex items-center text-gray-600 dark:text-gray-400 mb-4 text-sm">
                                        <i data-feather="map-pin" class="w-4 h-4 mr-2"></i>
                                        <span>${event.location}</span>
                                    </div>
                                    <p class="text-gray-700 dark:text-gray-300 mb-6 text-sm flex-grow line-clamp-3">${event.description}</p>
                                    <div class="mt-auto flex justify-between items-center pt-4 border-t dark:border-gray-700">
                                        <span class="text-xs text-gray-500">Para associados e convidados</span>
                                        <button onclick="alert('Funcionalidade de inscrição/detalhes em desenvolvimento.');" class="bg-primary hover:bg-blue-800 text-white font-medium py-1 px-3 rounded-lg transition duration-300 flex items-center gap-1 text-sm">
                                            <i data-feather="plus" class="w-4 h-4"></i> Participar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        `;
                        container.innerHTML += eventCard;
                    });
                }
                // Renderiza ícones DEPOIS de adicionar todo o HTML dinâmico
                feather.replace();
            }

            // --- FUNÇÃO PARA FILTRAR OS EVENTOS ---
            function filterEvents() {
                const selectedCategory = categorySelect.value;
                const selectedMonth = monthSelect.value; // Assume value '01', '02', etc.
                const showPresencial = presencialCheck.checked;
                const showOnline = onlineCheck.checked;

                const filtered = allEvents.filter(event => {
                    const eventMonth = event.date.split('/')[1]; // Pega MM

                    if (selectedCategory && event.category !== selectedCategory) return false;
                    if (selectedMonth && eventMonth !== selectedMonth) return false;
                    if (!showPresencial && event.type === 'presencial') return false;
                    if (!showOnline && event.type === 'online') return false;
                    return true;
                });

                renderEvents(filtered);
            }

            // --- INICIALIZAÇÃO ---
            // Renderiza todos os eventos inicialmente
            renderEvents(allEvents);

            // Adiciona listener ao botão de filtro
            if(filterBtn) {
                 filterBtn.addEventListener('click', filterEvents);
            } else {
                 console.warn("Botão de filtro não encontrado.");
            }
            // Adiciona listeners aos checkboxes e selects para filtrar automaticamente (opcional)
            /*
            categorySelect.addEventListener('change', filterEvents);
            monthSelect.addEventListener('change', filterEvents);
            presencialCheck.addEventListener('change', filterEvents);
            onlineCheck.addEventListener('change', filterEvents);
            */
        });
    </script>
</body>
</html>